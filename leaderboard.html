<!DOCTYPE html>
<html>
  <head>
    <title>BMSA! Leaderboard</title>
    <link rel="icon" type="image/x-icon" href="images/smerdy.jpg">
    <meta charset="utf-8">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
      body { font-family: "Montserrat", sans-serif; background:#0a0a10; color:#fff; margin:0; }
      .flag { width:20px; height:auto; margin-right:6px; vertical-align:middle; }
      .player-name { vertical-align: middle; }
      table { border-collapse:collapse; margin:2em auto; width:90%; max-width:1200px; background:#1d1d2e; border-radius:10px; overflow:hidden; }
      th, td { border:1px solid #333; padding:10px; text-align:center; }
      th { background:#af8d19; color:white; cursor:pointer; }
      tr:nth-child(even) { background:#14141f; }
      tr:hover { background:#2a2a3d; }
      .sidenav { height:100%; width:0; position:fixed; z-index:1; top:0; left:0; background-color:#0f0f16; overflow-x:hidden; padding-top:10px; transition:0.5s; }
      .sidenav a, .dropdown-btn { font-weight:500; font-size:15px; padding:6px 8px 6px 16px; color:#818181; display:block; border:none; background:none; width:100%; text-align:left; cursor:pointer; outline:none; text-decoration:none; }
      .sidenav a:hover, .dropdown-btn:hover { color:#f1f1f1; }
      #main { transition: margin-left .5s; padding-left:2%; }
      .active { background-color:#af8d19; color:white; }
      .dropdown { display:none; background-color:#1d1d2e; padding-left:8px; }
    </style>
  </head>
  <body>
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" style="font-size:20px">&times;</a>
      <a href="https://air-afother.github.io/tournament-table/">Homepage</a>
      <button class="dropdown-btn">Season archive tables</button>
      <div class="dropdown">
        <a href="https://air-afother.github.io/tournament-table/sr-archive.html">Lower bracket archive</a>
        <a href="https://air-afother.github.io/tournament-table/sl-archive.html">Upper bracket archive</a>
      </div>
    </div>
    <div id="main" class="main">
      <div class="goofy-container" style="position:fixed;top:0;height:4.5em;left:0;right:0;background-color:#af8d19">
        <div class="title" style="padding-left:2%">
          <img src="images/burger.png" alt="burger" style="width:2em;height:2em;display:inline-block;vertical-align:middle;" onclick="openNav()">
          <h1 style="margin-left:2%;display:inline-block;vertical-align:middle;">Bottoni Monthly Score Attack!</h1>
          <p id="flavor-text" style="display:inline-block;vertical-align:middle;float:right;padding-right:2%;"></p>
        </div>
      </div>
      <div style="padding-top:5em;">
        <h2 style="text-align:center;">Leaderboard</h2>
        <table id="leaderboard">
          <thead><tr><th onclick='sortTable(0)'>#</th><th onclick='sortTable(1)'>Player</th><th onclick='sortTable(2)'>Title1</th><th onclick='sortTable(3)'>Title2</th><th onclick='sortTable(4)'>Title3</th><th onclick='sortTable(5)'>Title4</th><th onclick='sortTable(6)'>Title5</th><th onclick='sortTable(7)'>total</th></tr></thead>
          <tbody><tr><td style='background-color:#b39700;color:#000;font-weight:bold;'>1</td><td><span class="player-name">ergo</span></td><td>0</td><td>0</td><td>3976</td><td>3425</td><td>0</td><td>7401</td></tr>
<tr><td style='background-color:#c0c0c0;color:#000;font-weight:bold;'>2</td><td><span class="player-name">mizumi_a</span></td><td>0</td><td>0</td><td>3987</td><td>0</td><td>0</td><td>3987</td></tr>
<tr><td style='background-color:#cd7f32;color:#000;font-weight:bold;'>3</td><td><img src="https://flagcdn.com/it.svg" alt="it" class="flag"><span class="player-name">dotLight</span></td><td>0</td><td>0</td><td>0</td><td>208</td><td>2515</td><td>2723</td></tr>
<tr><td style=''>4</td><td><img src="https://flagcdn.com/fi.svg" alt="fi" class="flag"><span class="player-name">Eedu</span></td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td style=''>5</td><td><span class="player-name">boxexe</span></td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></tbody>
        </table>
      </div>
    </div>
    <script>
      var dropdown = document.getElementsByClassName("dropdown-btn");
      for (var i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function() {
          this.classList.toggle("active");
          var dropdownContent = this.nextElementSibling;
          if (dropdownContent.style.display === "block") {
            dropdownContent.style.display = "none";
          } else {
            dropdownContent.style.display = "block";
          }
        });
      }
      function openNav() { document.getElementById("mySidenav").style.width = "250px"; }
      function closeNav() { document.getElementById("mySidenav").style.width = "0"; }
      var textarray = ["enjoy the cool air out on the","take the world by storm","a refreshing atmosphere","FEEL'in SEPIA AIR","Suggest more texts on discord!"];
      function RndText() {
        var rannum= Math.floor(Math.random()*textarray.length);
        document.getElementById('flavor-text').innerHTML=textarray[rannum];
      }
      onload = function() { RndText(); }
      function parseCellValue(v) {
        if(v === "" || v === null) return -Infinity;
        var n = parseInt(v);
        if(!isNaN(n)) return n;
        return v.toString().toLowerCase();
      }
      function sortTable(colIndex) {
        const table = document.getElementById("leaderboard");
        const tbody = table.tBodies[0];
        const rows = Array.from(tbody.querySelectorAll("tr"));
        rows.sort((a,b) => {
          const av = a.children[colIndex].innerText.trim();
          const bv = b.children[colIndex].innerText.trim();
          const ap = parseCellValue(av);
          const bp = parseCellValue(bv);
          if(ap < bp) return -1;
          if(ap > bp) return 1;
          return 0;
        });
        tbody.innerHTML = "";
        rows.forEach(r => tbody.appendChild(r));
      }
    </script>
  </body>
</html>
